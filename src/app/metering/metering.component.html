<div class="metering">
  <div class="title">
    <img ngSrc="/equipmentDesignation.png" alt="img" height="32" width="32"/>
    <span>РТСН\НН-2</span>
  </div>

  <div class="controls" *ngIf="data">
    <div class="line">
      <div class="control__buttons">
        <button class="center">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.5404 6.99779L13.7978 5.76719C14.1727 5.41235 13.9979 4.78175 13.5063 4.66417L11.7932 4.22694L12.2761 2.53122C12.4126 2.04346 11.9526 1.5834 11.465 1.7199L9.76989 2.20299L9.33283 0.489325C9.21717 0.00536835 8.57951 -0.171628 8.23019 0.197622L7 1.46479L5.76983 0.19765C5.42448 -0.167417 4.78417 -0.000155121 4.66719 0.489353L4.23013 2.20301L2.53496 1.71993C2.04723 1.58338 1.58747 2.0436 1.72391 2.53125L2.20683 4.22697L0.493745 4.6642C0.00188577 4.7818 -0.17254 5.41251 0.202124 5.76719L1.45953 6.99779L0.202124 8.22837C-0.172704 8.58321 0.00207725 9.21381 0.493718 9.33139L2.2068 9.76862L1.72389 11.4643C1.58741 11.9521 2.04734 12.4122 2.53493 12.2757L4.23008 11.7926L4.66714 13.5062C4.78852 14.0141 5.42445 14.163 5.76978 13.7979L7 12.5401L8.23017 13.7979C8.57196 14.1667 9.21419 14.0026 9.3328 13.5062L9.76987 11.7926L11.465 12.2757C11.9527 12.4122 12.4125 11.952 12.2761 11.4643L11.7931 9.76862L13.5062 9.33139C13.9981 9.21376 14.1725 8.58307 13.7978 8.22837L12.5404 6.99779Z" fill="#005BAA"/>
          </svg>
          Проверить
        </button>
        <button class="center">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="mask0_20_1719" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="18" height="18">
              <rect width="18" height="18" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_20_1719)">
              <path d="M9.00345 16.5034C7.96595 16.5034 6.99095 16.3064 6.07845 15.9124C5.16595 15.5189 4.3722 14.9847 3.6972 14.3097C3.0222 13.6347 2.48795 12.8409 2.09445 11.9284C1.70045 11.0159 1.50345 10.0409 1.50345 9.00345C1.50345 7.96595 1.70045 6.99095 2.09445 6.07845C2.48795 5.16595 3.0222 4.3722 3.6972 3.6972C4.3722 3.0222 5.16595 2.4877 6.07845 2.0937C6.99095 1.7002 7.96595 1.50345 9.00345 1.50345C10.0409 1.50345 11.0159 1.7002 11.9284 2.0937C12.8409 2.4877 13.6347 3.0222 14.3097 3.6972C14.9847 4.3722 15.5189 5.16595 15.9124 6.07845C16.3064 6.99095 16.5034 7.96595 16.5034 9.00345C16.5034 10.0409 16.3064 11.0159 15.9124 11.9284C15.5189 12.8409 14.9847 13.6347 14.3097 14.3097C13.6347 14.9847 12.8409 15.5189 11.9284 15.9124C11.0159 16.3064 10.0409 16.5034 9.00345 16.5034ZM9.00345 15.0034C10.6784 15.0034 12.0972 14.4222 13.2597 13.2597C14.4222 12.0972 15.0034 10.6784 15.0034 9.00345C15.0034 8.32845 14.8939 7.67845 14.6749 7.05345C14.4564 6.42845 14.1409 5.85345 13.7284 5.32845L5.32845 13.7284C5.85345 14.1409 6.42845 14.4564 7.05345 14.6749C7.67845 14.8939 8.32845 15.0034 9.00345 15.0034ZM4.27845 12.6784L12.6784 4.27845C12.1534 3.86595 11.5784 3.55045 10.9534 3.33195C10.3284 3.11295 9.67845 3.00345 9.00345 3.00345C7.32845 3.00345 5.9097 3.5847 4.7472 4.7472C3.5847 5.9097 3.00345 7.32845 3.00345 9.00345C3.00345 9.67845 3.11295 10.3284 3.33195 10.9534C3.55045 11.5784 3.86595 12.1534 4.27845 12.6784Z" fill="#005BAA"/>
            </g>
          </svg>
          Отменить проверку
        </button>
        <button class="center">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="mask0_20_1724" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="20">
              <rect width="20" height="20" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_20_1724)">
              <path d="M4.16667 15.8336H5.33333L12.5208 8.64607L11.3542 7.4794L4.16667 14.6669V15.8336ZM16.0833 7.43773L12.5417 3.93773L13.7083 2.77107C14.0278 2.45162 14.4203 2.2919 14.8858 2.2919C15.3508 2.2919 15.7431 2.45162 16.0625 2.77107L17.2292 3.93773C17.5486 4.25718 17.7153 4.64273 17.7292 5.0944C17.7431 5.54551 17.5903 5.93079 17.2708 6.25023L16.0833 7.43773ZM14.875 8.6669L6.04167 17.5002H2.5V13.9586L11.3333 5.12523L14.875 8.6669Z" fill="#005BAA"/>
            </g>
          </svg>

          Редактировать
        </button>
        <button class="center">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="mask0_20_1729" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="20">
              <rect width="20" height="20" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_20_1729)">
              <path d="M5.83343 17.5C5.3751 17.5 4.98288 17.3369 4.65677 17.0108C4.3301 16.6842 4.16677 16.2917 4.16677 15.8333V5H3.33344V3.33333H7.5001V2.5H12.5001V3.33333H16.6668V5H15.8334V15.8333C15.8334 16.2917 15.6704 16.6842 15.3443 17.0108C15.0176 17.3369 14.6251 17.5 14.1668 17.5H5.83343ZM14.1668 5H5.83343V15.8333H14.1668V5ZM7.5001 14.1667H9.16677V6.66667H7.5001V14.1667ZM10.8334 14.1667H12.5001V6.66667H10.8334V14.1667Z" fill="#005BAA"/>
            </g>
          </svg>
          Удалить
        </button>
      </div>
      <div class="view__buttons">
        <div class="buttons__group">
          <button class="table__view__button center active">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <mask id="mask0_368_49" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
                <rect width="24" height="24" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_368_49)">
                <path d="M18 19.375V15.325H6V19.375C6 19.5583 6.05833 19.7083 6.175 19.825C6.29167 19.9417 6.44167 20 6.625 20H17.375C17.5583 20 17.7083 19.9417 17.825 19.825C17.9417 19.7083 18 19.5583 18 19.375ZM18 14.325V9.675H6L6 14.325H18ZM18 8.675V4.625C18 4.44167 17.9417 4.29167 17.825 4.175C17.7083 4.05833 17.5583 4 17.375 4H6.625C6.44167 4 6.29167 4.05833 6.175 4.175C6.05833 4.29167 6 4.44167 6 4.625V8.675H18ZM19 19.375C19 19.8417 18.846 20.229 18.538 20.537C18.2293 20.8457 17.8417 21 17.375 21H6.625C6.15833 21 5.771 20.8457 5.463 20.537C5.15433 20.229 5 19.8417 5 19.375L5 4.625C5 4.15833 5.15433 3.77067 5.463 3.462C5.771 3.154 6.15833 3 6.625 3H17.375C17.8417 3 18.2293 3.154 18.538 3.462C18.846 3.77067 19 4.15833 19 4.625V19.375Z" fill="#828282"/>
              </g>
            </svg>
          </button>
          <button class="table__view__button center">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <mask id="mask0_368_53" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
                <rect y="24" width="24" height="24" transform="rotate(-90 0 24)" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_368_53)">
                <path d="M4.625 18H8.675V6H4.625C4.44167 6 4.29167 6.05833 4.175 6.175C4.05833 6.29167 4 6.44167 4 6.625V17.375C4 17.5583 4.05833 17.7083 4.175 17.825C4.29167 17.9417 4.44167 18 4.625 18ZM9.675 18H14.325V6H9.675V18ZM15.325 18H19.375C19.5583 18 19.7083 17.9417 19.825 17.825C19.9417 17.7083 20 17.5583 20 17.375V6.625C20 6.44167 19.9417 6.29167 19.825 6.175C19.7083 6.05833 19.5583 6 19.375 6H15.325V18ZM4.625 19C4.15833 19 3.771 18.846 3.463 18.538C3.15433 18.2293 3 17.8417 3 17.375V6.625C3 6.15833 3.15433 5.771 3.463 5.463C3.771 5.15433 4.15833 5 4.625 5H19.375C19.8417 5 20.2293 5.15433 20.538 5.463C20.846 5.771 21 6.15833 21 6.625V17.375C21 17.8417 20.846 18.2293 20.538 18.538C20.2293 18.846 19.8417 19 19.375 19H4.625Z" fill="#828282"/>
              </g>
            </svg>
          </button>

        </div>

        <button class="fullscreen__button center">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1 5.625V1.75C1 1.33437 1.33437 1 1.75 1H5.625C5.83125 1 6 1.16875 6 1.375V2.625C6 2.83125 5.83125 3 5.625 3H3V5.625C3 5.83125 2.83125 6 2.625 6H1.375C1.16875 6 1 5.83125 1 5.625ZM10 1.375V2.625C10 2.83125 10.1687 3 10.375 3H13V5.625C13 5.83125 13.1687 6 13.375 6H14.625C14.8313 6 15 5.83125 15 5.625V1.75C15 1.33437 14.6656 1 14.25 1H10.375C10.1687 1 10 1.16875 10 1.375ZM14.625 10H13.375C13.1687 10 13 10.1687 13 10.375V13H10.375C10.1687 13 10 13.1687 10 13.375V14.625C10 14.8313 10.1687 15 10.375 15H14.25C14.6656 15 15 14.6656 15 14.25V10.375C15 10.1687 14.8313 10 14.625 10ZM6 14.625V13.375C6 13.1687 5.83125 13 5.625 13H3V10.375C3 10.1687 2.83125 10 2.625 10H1.375C1.16875 10 1 10.1687 1 10.375V14.25C1 14.6656 1.33437 15 1.75 15H5.625C5.83125 15 6 14.8313 6 14.625Z" fill="#828282"/>
          </svg>
        </button>
      </div>
    </div>
    <div class="line">
      <div>
        <span class="checked__results" [ngClass]="{'is__empty': checkedResults === 0}">
          {{checkedResults === 0 ? 'Нет' : checkedResults}}
        </span> проверенных замеров</div>
      <div class="toggle__wrapper center">
        <div class="toggle">
          <span class="switch__slider" [ngClass]="{'active': switchIsChecked}" (click)="switchClickHandler()"></span>
        </div>
        <span>
        Группировать по дате
      </span>
      </div>
    </div>
  </div>


  <table *ngIf="data">
    <thead>
    <tr>
      <th>
        <input class="table__checkbox" type="checkbox" (click)="onSelectAll()">
      </th>
      <th>Дата</th>
      <th>Время</th>
      <th>Источник</th>
      <th>Фаза</th>
      <th>U, kB</th>
      <th>I, A</th>
      <th>P, MBt</th>
      <th>Q, Mвар</th>
      <th>cos φ</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td colspan="10">
        <button class="add_button">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14 8H8V14H6V8H0V6H6V0H8V6H14V8Z" fill="#005BAA"/>
          </svg>
          Добавить новые замеры
        </button>
      </td>
    </tr>
    <tr *ngFor="let item of data" [ngClass]="{'active': checkedItemsIds.includes(item.id)}">
      <td>
        <input class="table__checkbox" type="checkbox" [(ngModel)]="item.checked" (click)="onChangeInput(item.id)">
      </td>
      <td>{{item.date}}</td>
      <td>{{item.time}}</td>
      <td>{{item.source}}</td>
      <td>{{item.phase}}</td>
      <td>{{item.kb}}</td>
      <td>{{item.a}}</td>
      <td>{{item.mvt}}</td>
      <td>{{item.mvar}}</td>
      <td>{{item.cos}}</td>
    </tr>
    </tbody>
  </table>

  <app-metering-popup />
</div>
